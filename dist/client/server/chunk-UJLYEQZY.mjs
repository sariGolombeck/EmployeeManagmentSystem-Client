import './polyfills.server.mjs';
import{a as Je}from"./chunk-Z2AQMIVX.mjs";import{a as D}from"./chunk-VIM27NDU.mjs";import{a as H,b as Q,c as W,d as Y,e as Ke,f as di,g as Ne,h as Oe,i as K,j as Ae,k as Be,l as ve,m as ce,n as si,o as Ee,p as Xe,q as ci,r as pi,s as ui}from"./chunk-DSS2QEYF.mjs";import{A as Ye,a as $,b as Te,c as Wt,d as Pe,e as Yt,f as Jt,g as Kt,h as Xt,i as Zt,j as ei,k as ti,l as ii,m as oi,n as ri,o as ni,p as ai,r as We,s as mi,t as ae,u as me,v as we,w as li,x as le,y as de,z as se}from"./chunk-YUGYCXBZ.mjs";import{Aa as Lt,B as Bt,Ba as R,Ca as q,D as Rt,Da as G,Ea as M,F as qt,Fa as $t,Ga as Ht,Ha as ne,I as N,Ia as V,Ja as j,M as Gt,Ma as U,N as Vt,Na as Me,O as jt,P as k,Pa as z,Q as Ut,Qa as Fe,R as De,Ra as Qt,Sa as L,Ta as Qe,Y as zt,q as At,qa as O,sa as y,ua as A,va as B,za as re}from"./chunk-TRAC2A72.mjs";import{d as Ot,k as Ie,n as ie,q as oe}from"./chunk-3PGURIRH.mjs";import{Ab as C,Ca as Ct,Db as h,Fb as g,Fc as wt,Gb as St,Hb as It,Ic as ke,Jb as X,Jc as w,Kb as Z,Lb as ee,Lc as Nt,Mb as S,Mc as Se,Nb as m,Ob as te,Pb as I,Ta as d,Ua as p,Ub as Dt,Vb as Mt,W as _e,Y as ze,Yb as Ft,Zb as Tt,da as F,ea as E,fa as he,fb as kt,jb as u,kb as Le,lb as l,lc as Pt,na as b,nb as $e,oa as v,qc as be,rc as He,sa as Et,ub as n,va as Ce,vb as a,wa as xt,wb as _,xb as ge,yb as ye}from"./chunk-YALLJW45.mjs";import{a as fe,h as vt}from"./chunk-VVCT4QZE.mjs";var Ze=function(e){return e[e.Male=0]="Male",e[e.Female=1]="Female",e}(Ze||{});function Re(e){let o=e.value;return!/^\d+$/.test(o)&&o?{invalidchars:!0}:o&&o.length<9?{invalidIdentity:!0}:o&&o.length>9?{invalidextradigits:!0}:null}function pe(e){let o=e.value;if(o&&o.length<2)return{invalidLettersAmount:!0};let c=/^[^\d]+$/.test(o);return o&&!c?{invalid:!0}:null}function qe(e){let o=new Date(e.value);console.log("d",o);let c=new Date,t=c.getFullYear()-o.getFullYear();return o>c?{invalidDate:!0}:t<18?{ageUnder18:!0}:null}function ue(e,o){let c=new Date(e.value);var t=new Date(o);return console.log("start",o,"entry",c,t),c==null||c<t?{invalidEntryDate:!0}:null}function Di(e,o){e&1&&m(0,"Fill out your identity number")}function Mi(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity number is required"),a())}function Fi(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid identity number"),a())}function Ti(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity can only contain digits"),a())}function Pi(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity can only contain 9 digits"),a())}function wi(e,o){e&1&&m(0,"Fill out your name")}function Ni(e,o){e&1&&(n(0,"mat-error"),m(1,"First name is required"),a())}function Oi(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid first name"),a())}function Ai(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid minimal letters amount"),a())}function Bi(e,o){e&1&&m(0,"Last name")}function Ri(e,o){e&1&&(n(0,"mat-error"),m(1,"Last name is required"),a())}function qi(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid last name"),a())}function Gi(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid minimal letters amount"),a())}function Vi(e,o){e&1&&m(0,"Gender")}function ji(e,o){e&1&&m(0,"Fill out your address")}function Ui(e,o){e&1&&(n(0,"mat-error"),m(1,"Address is required"),a())}function zi(e,o){e&1&&(n(0,"mat-error"),m(1,"Adderss is invalid"),a())}function Li(e,o){e&1&&m(0,"Birthdate")}function $i(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid date"),a())}function Hi(e,o){e&1&&(n(0,"mat-error"),m(1,"Employee must be at least 18 years old"),a())}function Qi(e,o){e&1&&m(0,"beginging work date")}function Wi(e,o){e&1&&m(0,"Select Positions")}function Yi(e,o){if(e&1){let c=C();n(0,"mat-option",26),h("onSelectionChange",function(){let i=b(c).$implicit,r=g();return v(r.addPosition(i))}),m(1),a()}if(e&2){let c=o.$implicit;l("value",c),d(),te(c.name)}}function Ji(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date must be after start of work date"),a())}function Ki(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date is required"),a())}function Xi(e,o){if(e&1){let c=C();n(0,"mat-step")(1,"form",7),m(2),n(3,"mat-form-field")(4,"input",27),h("dateChange",function(i){let r=b(c).index,s=g();return v(s.updateEntryDateIntoOffice(r,i.value))}),a(),_(5,"mat-datepicker-toggle",19)(6,"mat-datepicker",null,1),u(8,Ji,2,0,"mat-error",9)(9,Ki,2,0,"mat-error",9),a(),n(10,"mat-checkbox",28),h("change",function(i){let r=b(c).index,s=g();return v(s.updateIsManagerialState(r,i.checked))}),m(11," Is Managerial "),a()()()}if(e&2){let c,t,i=o.$implicit,r=o.index,s=S(7),f=g();d(),l("formGroup",f.positionEmployeeForms.controls[r]),d(),I(" ",i.name," "),d(2),l("matDatepicker",s),d(),l("for",s),d(3),l("ngIf",(c=f.positionEmployeeForms.controls[r].get("entryDateIntoOffice"))==null?null:c.hasError("invalidEntryDate")),d(),l("ngIf",(t=f.positionEmployeeForms.controls[r].get("entryDateIntoOffice"))==null?null:t.hasError("required")),d(),l("formControl",f.positionEmployeeForms.controls[r].get("ismanagerial"))}}function Zi(e,o){e&1&&m(0,"Submit")}var bi=(()=>{let o=class o{constructor(t,i,r,s,f){this._router=t,this._formBuilder=i,this._employeeService=r,this._positionService=s,this._snackBar=f,this.positions=[],this.selectedPosition=null,this.allPositions=[],this.px=[],this.positionEmployee=[]}ngOnInit(){sessionStorage.getItem("token")===""&&this._router.navigate(["/login"]),this.initPositionEmployeeForms(),this.form=this._formBuilder.group({allPositions:this._formBuilder.array([]),firstName:["",[y.required,pe]],lastName:["",[y.required,pe]],address:["",y.required],startOfWorkDate:[Date,[y.required]],birthDate:[Date,[y.required,qe]],identity:["",[y.required,Re]],gender:[Ze.Male,y.required]}),this._positionService.getPositions().subscribe({next:t=>{t.forEach(i=>{this.allPositions.push(i),this.addPositionFormGroup(i)})},error:t=>console.error(t)})}updateEntryDateIntoOffice(t,i){this.positionEmployeeForms.at(t).patchValue({entryDateIntoOffice:i})}initPositionEmployeeForms(){this.positionEmployeeForms=this._formBuilder.array([])}addPositionEmployeeForm(t){let i=this._formBuilder.group({name:t.name,positionId:[t.id,y.required],entryDateIntoOffice:[Date,[y.required,r=>ue(r,this.form.get("startOfWorkDate")?.value)]],ismanagerial:[!1]});this.positionEmployeeForms.push(i)}addPosition(t){var i=this.positions;this.positions=i.filter(r=>r.id!=t.id),i.length===this.positions.length&&(this.addPositionEmployeeForm(t),this.positions.push(t),this.positionEmployee.push())}updateIsManagerialState(t,i){this.positionEmployeeForms.controls[t].get("ismanagerial").setValue(i)}onSubmit(){if(this.form.invalid||this.positionEmployeeForms.invalid){this._snackBar.open("Please fill in all required fields correctly","Close",{duration:5e3});return}this.px=this.positions;let t=fe({},this.form.value);this._employeeService.addEmployee(t).subscribe({next:i=>{this.newEmployee=i,this.savePositionsEmployee(),this._router.navigate(["employees"])},error:i=>{console.error(i),console.error("Failed to add employee")}})}savePositionsEmployee(){this.positionEmployeeForms.value.map(i=>({positionId:i.positionId,entryDateIntoOffice:i.entryDateIntoOffice,ismanagerial:i.ismanagerial})).forEach(i=>{this._employeeService.addPositionToEmployee(this.newEmployee.id,i).subscribe({next:r=>{console.log(r)},error:r=>{console.error(r),console.error("Failed to add position employee")}})})}addPositionFormGroup(t){let i=this._formBuilder.group({position:this._formBuilder.group({name:[t.name],description:[t.description],id:[t.id]})})}};o.\u0275fac=function(i){return new(i||o)(p(ie),p(M),p(D),p(H),p(L))},o.\u0275cmp=E({type:o,selectors:[["add-employee"]],decls:130,vars:40,consts:[["stepper",""],["picker",""],["picker2",""],[1,"container"],[1,"stepper",3,"linear"],[3,"stepControl"],["matStepLabel",""],[3,"formGroup"],["matInput","","formControlName","identity","placeholder","Enter your identity number","required",""],[4,"ngIf"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["matInput","","placeholder","Enter your first name","formControlName","firstName","required",""],["matInput","","formControlName","lastName","placeholder","Enter your last name","required",""],["appearance","fill",1,"form-field"],["formControlName","gender","placeholder","\u05D1\u05D7\u05E8 \u05DE\u05D2\u05D3\u05E8",1,"custom-input"],[3,"value"],["matInput","","formControlName","address","placeholder","Enter your address","required",""],["matInput","","formControlName","birthDate","placeholder","Enter your date of birth","formControlName","birthDate",3,"matDatepicker"],["matSuffix","",3,"for"],["mat-button","","matStepperNext","",3,"disabled"],["matInput","","placeholder","Enter your date of birth","formControlName","startOfWorkDate",3,"matDatepicker"],["placeholder","Select positions","formControlName","positions","multiple","","required",""],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"],[3,"onSelectionChange","value"],["matInput","","formControlName","entryDateIntoOffice","placeholder","Choose entry date",3,"dateChange","matDatepicker"],[3,"change","formControl"]],template:function(i,r){if(i&1){let s=C();n(0,"div",3)(1,"mat-vertical-stepper",4,0)(3,"mat-step",5),u(4,Di,1,0,"ng-template",6),n(5,"form",7)(6,"mat-form-field")(7,"mat-label"),m(8,"Identity Number"),a(),_(9,"input",8),u(10,Mi,2,0,"mat-error",9)(11,Fi,2,0,"mat-error",9)(12,Ti,2,0,"mat-error",9)(13,Pi,2,0,"mat-error",9),a(),n(14,"div")(15,"button",10),m(16,"Back"),a(),n(17,"button",11),m(18,"Next"),a()()()(),n(19,"mat-step",5),u(20,wi,1,0,"ng-template",6),n(21,"form",7)(22,"mat-form-field")(23,"mat-label"),m(24,"First Name"),a(),_(25,"input",12),u(26,Ni,2,0,"mat-error",9)(27,Oi,2,0,"mat-error",9)(28,Ai,2,0,"mat-error",9),a(),n(29,"div")(30,"button",10),m(31,"Back"),a(),n(32,"button",11),m(33,"Next"),a()()()(),n(34,"mat-step",5),u(35,Bi,1,0,"ng-template",6),n(36,"form",7)(37,"mat-form-field")(38,"mat-label"),m(39,"Last Name"),a(),_(40,"input",13),u(41,Ri,2,0,"mat-error",9)(42,qi,2,0,"mat-error",9)(43,Gi,2,0,"mat-error",9),a(),n(44,"div")(45,"button",10),m(46,"Back"),a(),n(47,"button",11),m(48,"Next"),a()()()(),n(49,"mat-step",5),u(50,Vi,1,0,"ng-template",6),n(51,"form",7)(52,"mat-form-field",14)(53,"mat-label"),m(54,"\u05DE\u05D2\u05D3\u05E8"),a(),n(55,"mat-select",15)(56,"mat-option",16),m(57,"\u05D6\u05DB\u05E8"),a(),n(58,"mat-option",16),m(59,"\u05E0\u05E7\u05D1\u05D4"),a()()(),n(60,"div")(61,"button",10),m(62,"Back"),a(),n(63,"button",11),m(64,"Next"),a()()()(),n(65,"mat-step",5),u(66,ji,1,0,"ng-template",6),n(67,"form",7)(68,"mat-form-field")(69,"mat-label"),m(70,"Address"),a(),_(71,"input",17),u(72,Ui,2,0,"mat-error",9)(73,zi,2,0,"mat-error",9),a(),n(74,"div")(75,"button",10),m(76,"Back"),a(),n(77,"button",11),m(78,"Next"),a()()()(),n(79,"mat-step",5),u(80,Li,1,0,"ng-template",6),n(81,"form",7)(82,"mat-form-field")(83,"mat-label"),m(84,"Date of Birth"),a(),_(85,"input",18)(86,"mat-datepicker-toggle",19)(87,"mat-datepicker",null,1),u(89,$i,2,0,"mat-error",9)(90,Hi,2,0,"mat-error",9),a(),n(91,"div")(92,"button",10),m(93,"Back"),a(),n(94,"button",20),m(95,"Next"),a()()()(),n(96,"mat-step",5),u(97,Qi,1,0,"ng-template",6),n(98,"form",7)(99,"mat-form-field")(100,"mat-label"),m(101,"Beginig work date"),a(),_(102,"input",21)(103,"mat-datepicker-toggle",19)(104,"mat-datepicker",null,2),a(),n(106,"div")(107,"button",10),m(108,"Back"),a(),n(109,"button",20),m(110,"Next"),a()()()(),n(111,"mat-step"),u(112,Wi,1,0,"ng-template",6),n(113,"form",7)(114,"mat-form-field")(115,"mat-label"),m(116,"Select Positions"),a(),n(117,"mat-select",22),u(118,Yi,2,2,"mat-option",23),a()(),n(119,"div")(120,"button",10),m(121,"Back"),a(),n(122,"button",11),m(123,"Next"),a()()(),n(124,"mat-horizontal-stepper"),u(125,Xi,12,7,"mat-step",24),a(),n(126,"mat-step"),u(127,Zi,1,0,"ng-template",6),n(128,"button",25),h("click",function(){return b(s),v(r.onSubmit())}),m(129,"Save"),a()()()()()}if(i&2){let s,f,x,P,J,mt,lt,dt,st,ct,pt,ut,ft,_t,ht,gt,yt=S(88),bt=S(105);d(),l("linear",r.isLinear),d(2),l("stepControl",r.form.controls.identity),d(2),l("formGroup",r.form),d(5),l("ngIf",(s=r.form.get("identity"))==null?null:s.hasError("required")),d(),l("ngIf",(f=r.form.get("identity"))==null?null:f.hasError("invalidIdentity")),d(),l("ngIf",(x=r.form.get("identity"))==null?null:x.hasError("invalidchars")),d(),l("ngIf",(P=r.form.get("identity"))==null?null:P.hasError("invalidextradigits")),d(6),l("stepControl",r.form.controls.firstName),d(2),l("formGroup",r.form),d(5),l("ngIf",(J=r.form.get("firstName"))==null?null:J.hasError("required")),d(),l("ngIf",(mt=r.form.get("firstName"))==null?null:mt.hasError("invalidName")),d(),l("ngIf",(lt=r.form.get("firstName"))==null?null:lt.hasError("invalidLettersAmount")),d(6),l("stepControl",r.form.controls.lastName),d(2),l("formGroup",r.form),d(5),l("ngIf",(dt=r.form.get("lastName"))==null?null:dt.hasError("required")),d(),l("ngIf",(st=r.form.get("lastName"))==null?null:st.hasError("invalidName")),d(),l("ngIf",(ct=r.form.get("lastName"))==null?null:ct.hasError("invalidLettersAmount")),d(6),l("stepControl",r.form.controls.gender),d(2),l("formGroup",r.form),d(5),l("value",0),d(2),l("value",1),d(7),l("stepControl",r.form.controls.address),d(2),l("formGroup",r.form),d(5),l("ngIf",(pt=r.form.get("address"))==null?null:pt.hasError("required")),d(),l("ngIf",(ut=r.form.get("address"))==null?null:ut.hasError("invalid")),d(6),l("stepControl",r.form.controls.birthDate),d(2),l("formGroup",r.form),d(4),l("matDatepicker",yt),d(),l("for",yt),d(3),l("ngIf",(ft=r.form.get("birthDate"))==null?null:ft.hasError("invalidDate")),d(),l("ngIf",(_t=r.form.get("birthDate"))==null?null:_t.hasError("ageUnder18")),d(4),l("disabled",(ht=r.form.get("birthDate"))==null?null:ht.invalid),d(2),l("stepControl",r.form.controls.startOfWorkDate),d(2),l("formGroup",r.form),d(4),l("matDatepicker",bt),d(),l("for",bt),d(6),l("disabled",(gt=r.form.get("startOfWorkDate"))==null?null:gt.invalid),d(4),l("formGroup",r.form),d(5),l("ngForOf",r.allPositions),d(7),l("ngForOf",r.positions)}},dependencies:[U,ne,V,j,z,Q,W,Y,k,Oe,Ne,K,Ae,Be,ce,N,$,ke,w,re,O,A,B,G,Lt,R,q],styles:['@charset "UTF-8";.mat-stepper-vertical[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.example-form-field[_ngcontent-%COMP%]{margin-right:20px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;max-width:35%}.stepper[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;box-shadow:0 0 20px #0000001a;padding:40px}']});let e=o;return e})();var vi=(()=>{let o=class o{constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}};o.\u0275fac=function(i){return new(i||o)(p(ae),p(me))},o.\u0275cmp=E({type:o,selectors:[["app-confirmation-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){i&1&&(n(0,"h1",0),m(1),a(),n(2,"div",1)(3,"p"),m(4,"Do you want to return to the employees table?"),a()(),n(5,"div",2)(6,"button",3),h("click",function(){return r.onNoClick()}),m(7,"No"),a(),n(8,"button",4),m(9,"Yes"),a()()),i&2&&(d(),te(r.data.message),d(7),l("mat-dialog-close",!0))},dependencies:[li,le,se,de,k]});let e=o;return e})();function eo(e,o){e&1&&m(0,"Fill out your identity number")}function to(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity number is required"),a())}function io(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid identity number"),a())}function oo(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity can only contain digits"),a())}function ro(e,o){e&1&&(n(0,"mat-error"),m(1,"Identity can only contain 9 digits"),a())}function no(e,o){if(e&1&&(n(0,"form",10)(1,"mat-form-field")(2,"mat-label"),m(3,"Identity Number"),a(),_(4,"input",11),u(5,to,2,0,"mat-error",12)(6,io,2,0,"mat-error",12)(7,oo,2,0,"mat-error",12)(8,ro,2,0,"mat-error",12),a(),n(9,"div")(10,"button",13),m(11,"Back"),a(),n(12,"button",14),m(13,"Next"),a()()()),e&2){let c,t,i,r,s=g(2);l("formGroup",s.employeeForm),d(5),l("ngIf",(c=s.employeeForm.get("identity"))==null?null:c.hasError("required")),d(),l("ngIf",(t=s.employeeForm.get("identity"))==null?null:t.hasError("invalidIdentity")),d(),l("ngIf",(i=s.employeeForm.get("identity"))==null?null:i.hasError("invalidchars")),d(),l("ngIf",(r=s.employeeForm.get("identity"))==null?null:r.hasError("invalidextradigits"))}}function ao(e,o){if(e&1&&(n(0,"mat-step",8),u(1,eo,1,0,"ng-template",6)(2,no,14,5,"form",9),a()),e&2){let c=g();l("stepControl",c.employeeForm.controls.identity),d(2),l("ngIf",c.employeeForm)}}function mo(e,o){e&1&&m(0,"Fill out employee name")}function lo(e,o){e&1&&(n(0,"mat-error"),m(1,"First name is required"),a())}function so(e,o){e&1&&(n(0,"mat-error"),m(1,"Can only contain letters"),a())}function co(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid minimal letters amount"),a())}function po(e,o){if(e&1&&(n(0,"form",10)(1,"mat-form-field")(2,"mat-label"),m(3,"First Name"),a(),_(4,"input",15),u(5,lo,2,0,"mat-error",12)(6,so,2,0,"mat-error",12)(7,co,2,0,"mat-error",12),a(),n(8,"div")(9,"button",13),m(10,"Back"),a(),n(11,"button",14),m(12,"Next"),a()()()),e&2){let c,t,i,r=g(2);l("formGroup",r.employeeForm),d(5),l("ngIf",(c=r.employeeForm.get("firstName"))==null?null:c.hasError("required")),d(),l("ngIf",(t=r.employeeForm.get("firstName"))==null?null:t.hasError("invalidName")),d(),l("ngIf",(i=r.employeeForm.get("firstName"))==null?null:i.hasError("invalidLettersAmount"))}}function uo(e,o){if(e&1&&(n(0,"mat-step",8),u(1,mo,1,0,"ng-template",6)(2,po,13,4,"form",9),a()),e&2){let c=g();l("stepControl",c.employeeForm.controls.firstName),d(2),l("ngIf",c.employeeForm)}}function fo(e,o){e&1&&m(0,"Last name")}function _o(e,o){e&1&&(n(0,"mat-error"),m(1,"Last name is required"),a())}function ho(e,o){e&1&&(n(0,"mat-error"),m(1,"Can only contain letters"),a())}function go(e,o){e&1&&(n(0,"mat-error"),m(1,"Invalid minimal letters amount"),a())}function yo(e,o){if(e&1&&(n(0,"form",10)(1,"mat-form-field")(2,"mat-label"),m(3,"Last Name"),a(),_(4,"input",16),u(5,_o,2,0,"mat-error",12)(6,ho,2,0,"mat-error",12)(7,go,2,0,"mat-error",12),a(),n(8,"div")(9,"button",13),m(10,"Back"),a(),n(11,"button",14),m(12,"Next"),a()()()),e&2){let c,t,i,r=g(2);l("formGroup",r.employeeForm),d(5),l("ngIf",(c=r.employeeForm.get("lastName"))==null?null:c.hasError("required")),d(),l("ngIf",(t=r.employeeForm.get("lastName"))==null?null:t.hasError("invalidName")),d(),l("ngIf",(i=r.employeeForm.get("lastName"))==null?null:i.hasError("invalidLettersAmount"))}}function bo(e,o){if(e&1&&(n(0,"mat-step",8),u(1,fo,1,0,"ng-template",6)(2,yo,13,4,"form",9),a()),e&2){let c=g();l("stepControl",c.employeeForm.controls.lastName),d(2),l("ngIf",c.employeeForm)}}function vo(e,o){e&1&&m(0,"Gender")}function Eo(e,o){e&1&&(n(0,"mat-error"),m(1,"Gender is required"),a())}function xo(e,o){if(e&1&&(n(0,"form",10)(1,"mat-form-field",17)(2,"mat-label"),m(3,"Gender"),a(),n(4,"mat-select",18)(5,"mat-option",19),m(6,"Male"),a(),n(7,"mat-option",19),m(8,"Female"),a()(),u(9,Eo,2,0,"mat-error",12),a(),n(10,"div")(11,"button",13),m(12,"Back"),a(),n(13,"button",14),m(14,"Next"),a()()()),e&2){let c,t=g(2);l("formGroup",t.employeeForm),d(5),l("value",0),d(2),l("value",1),d(2),l("ngIf",(c=t.employeeForm.get("gender"))==null?null:c.hasError("required"))}}function Co(e,o){if(e&1&&(n(0,"mat-step",8),u(1,vo,1,0,"ng-template",6)(2,xo,15,4,"form",9),a()),e&2){let c=g();l("stepControl",c.employeeForm.controls.gender),d(2),l("ngIf",c.employeeForm)}}function ko(e,o){e&1&&m(0,"Birthdate")}function So(e,o){e&1&&(n(0,"mat-error"),m(1,"Birthdate is required"),a())}function Io(e,o){e&1&&(n(0,"mat-error"),m(1,"Employee must be at least 18 years old"),a())}function Do(e,o){e&1&&(n(0,"mat-error"),m(1,"invalid birthDate"),a())}function Mo(e,o){if(e&1&&(n(0,"mat-step",8),u(1,ko,1,0,"ng-template",6),n(2,"form",10)(3,"mat-form-field")(4,"mat-label"),m(5,"Date of Birth"),a(),_(6,"input",20)(7,"mat-datepicker-toggle",21)(8,"mat-datepicker",null,1),u(10,So,2,0,"mat-error",12)(11,Io,2,0,"mat-error",12)(12,Do,2,0,"mat-error",12),a(),n(13,"div")(14,"button",13),m(15,"Back"),a(),n(16,"button",14),m(17,"Next"),a()()()()),e&2){let c,t,i,r=S(9),s=g();l("stepControl",s.employeeForm.controls.birthDate),d(2),l("formGroup",s.employeeForm),d(4),l("matDatepicker",r),d(),l("for",r),d(3),l("ngIf",(c=s.employeeForm.get("birthDate"))==null?null:c.hasError("required")),d(),l("ngIf",(t=s.employeeForm.get("birthDate"))==null?null:t.hasError("ageUnder18")),d(),l("ngIf",(i=s.employeeForm.get("birthDate"))==null?null:i.hasError("invalidDate"))}}function Fo(e,o){e&1&&m(0,"Begining of work date")}function To(e,o){if(e&1&&(n(0,"mat-step",8),u(1,Fo,1,0,"ng-template",6),n(2,"form",10)(3,"mat-form-field")(4,"mat-label"),m(5,"Begining of work date"),a(),_(6,"input",22)(7,"mat-datepicker-toggle",21)(8,"mat-datepicker",null,2),a(),n(10,"div")(11,"button",13),m(12,"Back"),a(),n(13,"button",14),m(14,"Next"),a()()()()),e&2){let c=S(9),t=g();l("stepControl",t.employeeForm.controls.startOfWorkDate),d(2),l("formGroup",t.employeeForm),d(4),l("matDatepicker",c),d(),l("for",c)}}function Po(e,o){e&1&&m(0,"Save employee details")}var Ei=(()=>{let o=class o{constructor(t,i,r,s,f,x,P,J){this._employeeService=t,this._positionService=i,this._formBuilder=r,this.route=s,this._snackBar=f,this._router=x,this.dialog=P,this.location=J,this.allPositions=[],this.pe=[],this.peForms=[]}ngOnInit(){this.route.params.subscribe(t=>{this.employeeId=+t.id}),this.getEmployeePositions(),this.getEmployeeById(),this.getPositions()}getPositions(){this._positionService.getPositions().subscribe({next:t=>{t.forEach(i=>{this.allPositions.push(i),this.addPositionFormGroup(i)})},error:t=>{console.error(t),this._snackBar.open("Not found employee","Close",{duration:5e3,panelClass:["failure-snackbar"]}),this._router.navigate(["employees"])}})}getEmployeePositions(){this._employeeService.getEmployeePositions(this.employeeId).subscribe({next:t=>{t.forEach(i=>{this.pe.push(i)})},error:t=>console.error("Error fetching positons:",t)})}getEmployeeById(){this._employeeService.getEmployeeById(this.employeeId).subscribe({next:t=>{this.employee=t,this.buildForm()},error:t=>{console.error("Error fetching employee:",t),this._snackBar.open("Not found employee","Close",{duration:5e3,panelClass:["success-snackbar"]}),this._router.navigate(["employees"])}})}buildForm(){this.employeeForm=this._formBuilder.group({identity:[this.employee.identity,Re],firstName:[this.employee.firstName,pe],lastName:[this.employee.lastName,pe],startOfWorkDate:[this.employee.startOfWorkDate,y.required],birthDate:[this.employee.birthDate,qe],gender:[this.employee.gender,y.required]})}onSubmit(){console.log("the form beforoe",this.employeeForm?.value);let t=fe({},this.employeeForm?.value);this._employeeService.updateEmployee(this.employeeId,t).subscribe({next:i=>{console.log(i),this._snackBar.open("Employee updated successfully!","Close",{duration:5e3,panelClass:["success-snackbar"]}),this._router.navigate(["/employees"])},error:i=>{console.error(i),console.error("Failed to add employee"),console.error("Failed to add employee"),this._snackBar.open("Failed to update employee. Please try again later.","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}saveBeforeChoosingPositions(){if(this.employeeForm.invalid)return;let t=fe({},this.employeeForm.value);this._employeeService.updateEmployee(this.employeeId,t).subscribe({next:i=>{console.log(i),this._router.navigate(["/login"])},error:i=>{console.error(i),console.error("Failed to add employee")}})}cancelStepper(){this.location.back()}addPositionFormGroup(t){let i=this._formBuilder.group({position:this._formBuilder.group({name:[t.name],description:[t.description],id:[t.id]})})}openConfirmationDialog(){return vt(this,null,function*(){this.dialog.open(vi,{width:"250px",data:{message:"Do you want to save details and return to the employees table?"}}).afterClosed().subscribe(i=>{i&&this.onSubmit()})})}};o.\u0275fac=function(i){return new(i||o)(p(D),p(H),p(M),p(Ie),p(L),p(ie),p(we),p(wt))},o.\u0275cmp=E({type:o,selectors:[["app-update-employee"]],decls:15,vars:7,consts:[["stepper",""],["picker",""],["picker1",""],[1,"container"],["orientation","vertical",1,"stepper",3,"linear"],[3,"stepControl",4,"ngIf"],["matStepLabel",""],["mat-button","",3,"click"],[3,"stepControl"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["matInput","","formControlName","identity","placeholder","Enter your identity number","required",""],[4,"ngIf"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["matInput","","placeholder","Enter your first name","formControlName","firstName","required",""],["matInput","","formControlName","lastName","placeholder","Enter your last name","required",""],["appearance","fill",1,"form-group"],["formControlName","gender","placeholder","Select gender",1,"custom-input"],[3,"value"],["matInput","","placeholder","Enter your date of birth","formControlName","birthDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","placeholder","Enter begining of work date","formControlName","startOfWorkDate","required","",3,"matDatepicker"]],template:function(i,r){if(i&1){let s=C();n(0,"div",3)(1,"mat-stepper",4,0),u(3,ao,3,2,"mat-step",5)(4,uo,3,2,"mat-step",5)(5,bo,3,2,"mat-step",5)(6,Co,3,2,"mat-step",5)(7,Mo,18,7,"mat-step",5)(8,To,15,4,"mat-step",5),n(9,"mat-step"),u(10,Po,1,0,"ng-template",6),n(11,"button",7),h("click",function(){return b(s),v(r.openConfirmationDialog())}),m(12,"Save"),a(),n(13,"button",7),h("click",function(){return b(s),v(r.cancelStepper())}),m(14,"Cancel"),a()()()()}i&2&&(d(),l("linear",r.isLeanar),d(2),l("ngIf",r.employeeForm),d(),l("ngIf",r.employeeForm),d(),l("ngIf",r.employeeForm),d(),l("ngIf",r.employeeForm),d(),l("ngIf",r.employeeForm),d(),l("ngIf",r.employeeForm))},dependencies:[U,ne,V,j,z,Q,W,Y,k,Oe,Ne,K,Ae,Be,N,$,w,re,O,A,B,G,R,q],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;height:100vh;width:100%;padding-left:5px}.stepper[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;box-shadow:0 0 20px #0000001a;padding:40px}']});let e=o;return e})();function No(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date must be after start of work date"),a())}function Oo(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date is required"),a())}var xi=(()=>{let o=class o{constructor(t,i,r){this.dialogRef=t,this.data=i,this.formBuilder=r}ngOnInit(){this.positionForm=this.formBuilder.group({positionId:[this.data.row.positionId,y.required],entryDateIntoOffice:[this.data.row.entryDateIntoOffice,[y.required,t=>ue(t,this.data.startOfWorkDate)]],ismanagerial:[this.data.row.ismanagerial]})}onCancelClick(){this.dialogRef.close()}onSaveClick(){this.positionForm.valid&&this.dialogRef.close(this.positionForm.value)}};o.\u0275fac=function(i){return new(i||o)(p(ae),p(me),p(M))},o.\u0275cmp=E({type:o,selectors:[["app-edit-employee-position"]],decls:21,vars:6,consts:[["picker",""],["mat-dialog-title",""],[3,"formGroup"],["matInput","","formControlName","entryDateIntoOffice","placeholder","Entry date into the position","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[4,"ngIf"],["formControlName","ismanagerial"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click"]],template:function(i,r){if(i&1){let s=C();n(0,"p"),m(1,"edit-employee-position works!"),a(),n(2,"h2",1),m(3,"Edit Position"),a(),n(4,"mat-dialog-content"),m(5),n(6,"form",2)(7,"mat-form-field"),_(8,"input",3)(9,"mat-datepicker-toggle",4)(10,"mat-datepicker",null,0),u(12,No,2,0,"mat-error",5)(13,Oo,2,0,"mat-error",5),a(),n(14,"mat-checkbox",6),m(15,"Is Managerial"),a()()(),n(16,"mat-dialog-actions")(17,"button",7),h("click",function(){return b(s),v(r.onCancelClick())}),m(18,"Cancel"),a(),n(19,"button",8),h("click",function(){return b(s),v(r.onSaveClick())}),m(20,"Save"),a()()}if(i&2){let s,f,x=S(11);d(5),I(" ",r.data.positionName," "),d(),l("formGroup",r.positionForm),d(2),l("matDatepicker",x),d(),l("for",x),d(3),l("ngIf",(s=r.positionForm.get("entryDateIntoOffice"))==null?null:s.hasError("invalidEntryDate")),d(),l("ngIf",(f=r.positionForm.get("entryDateIntoOffice"))==null?null:f.hasError("required"))}},dependencies:[le,se,de,U,V,j,z,Q,W,Y,k,ce,w,re,O,A,B,G,R,q]});let e=o;return e})();function Ao(e,o){if(e&1&&(n(0,"mat-option",9),m(1),a()),e&2){let c=o.$implicit;l("value",c),d(),te(c.name)}}function Bo(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date must be after start of work date"),a())}function Ro(e,o){e&1&&(n(0,"mat-error"),m(1,"Entry date is required"),a())}function qo(e,o){if(e&1&&(n(0,"div",10)(1,"h3"),m(2),a(),n(3,"mat-form-field"),_(4,"input",11)(5,"mat-datepicker-toggle",12)(6,"mat-datepicker",null,0),u(8,Bo,2,0,"mat-error",13)(9,Ro,2,0,"mat-error",13),a(),n(10,"mat-checkbox",14),m(11,"Is Managerial"),a()()),e&2){let c,t,i=o.$implicit,r=o.index,s=S(7),f=g();l("formGroup",i),d(2),I(" ",f.data.positions[r].name,""),d(2),l("matDatepicker",s),d(),l("for",s),d(3),l("ngIf",(c=i.get("entryDateIntoOffice"))==null?null:c.hasError("invalidEntryDate")),d(),l("ngIf",(t=i.get("entryDateIntoOffice"))==null?null:t.hasError("required"))}}var Ue=(()=>{let o=class o{constructor(t,i,r,s,f){this.formBuilder=t,this._employeeService=i,this._snackBar=r,this.dialogRef=s,this.data=f,this.positionForms=[],this.positionEmployeeDtos=[]}ngOnInit(){}createPositionForm(t){return this.formBuilder.group({employeeId:[this.data.employeeId],positionId:[t],entryDateIntoOffice:[Date,[y.required,i=>ue(i,this.data.startOfWorkDate)]],ismanagerial:[!1]})}removePositionForm(t){let i=this.positionForms.findIndex(r=>r.value.positionId===t);i!==-1&&this.positionForms.splice(i,1)}onNoClick(){this.dialogRef.close()}onPositionSelect(t){this.positionForms=this.positionForms.filter(i=>t.includes(i.value.positionId)),t.forEach(i=>{if(!this.positionForms.find(s=>s.value.positionId===i)){let s=this.createPositionForm(i.id);this.positionForms.push(s)}})}onConfirm(){this.positionForms.every(t=>t.valid)?(this.positionEmployeeDtos=this.positionForms.map(t=>t.value),this.dialogRef.close(this.positionEmployeeDtos)):this._snackBar.open("Please fill in all required fields correctly","Close",{duration:5e3})}};o.\u0275fac=function(i){return new(i||o)(p(M),p(D),p(L),p(ae),p(me))},o.\u0275cmp=E({type:o,selectors:[["app-position-selection"]],decls:16,vars:3,consts:[["picker",""],["mat-dialog-title",""],["mat-dialog-content",""],["multiple","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","position-form",3,"formGroup",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click","disabled"],[3,"value"],[1,"position-form",3,"formGroup"],["matInput","","formControlName","entryDateIntoOffice","placeholder","Entry date into the position","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[4,"ngIf"],["formControlName","ismanagerial"]],template:function(i,r){i&1&&(n(0,"h2",1),m(1,"Selecting a Position"),a(),n(2,"div",2)(3,"p"),m(4,"Select positions:"),a(),n(5,"mat-form-field")(6,"mat-label"),m(7,"Positions"),a(),n(8,"mat-select",3),h("selectionChange",function(f){return r.onPositionSelect(f.value)}),u(9,Ao,2,2,"mat-option",4),a()(),u(10,qo,12,6,"div",5),a(),n(11,"div",6)(12,"button",7),h("click",function(){return r.onNoClick()}),m(13,"Cancel"),a(),n(14,"button",8),h("click",function(){return r.onConfirm()}),m(15,"Confirm"),a()()),i&2&&(d(9),l("ngForOf",r.data.positions),d(),l("ngForOf",r.positionForms),d(4),l("disabled",!r.positionForms.length))},dependencies:[le,se,de,U,ne,V,j,z,Q,W,Y,k,ce,N,$,ke,w,O,A,B,G,R,q],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]   input.mat-input[_ngcontent-%COMP%]{width:calc(100% - 36px);font-size:14px;margin:20px;border-radius:5px;padding:50px;border:1px solid #ccc;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{width:calc(100% - 36px);font-size:14px;padding:8px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.mat-form-field[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{margin:10px 20px 20px}.mat-form-field[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%]{margin-top:10px}.mat-form-field[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;color:#dc3545}.mat-select[_ngcontent-%COMP%]{width:100%}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:20px}.mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.mat-datepicker-toggle[_ngcontent-%COMP%]{margin-top:10px}.mat-error[_ngcontent-%COMP%]{font-size:12px;color:#dc3545}.position-form[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;padding:10px;margin-bottom:20px}.position-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.position-form[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin-top:10px}"]});let e=o;return e})();var Go=()=>[5,10,20];function Vo(e,o){e&1&&(n(0,"th",13),m(1," Position Name "),a())}function jo(e,o){if(e&1&&(n(0,"td",14),m(1),a()),e&2){let c=o.$implicit,t=g();d(),I(" ",t.positions[c.positionId].name," ")}}function Uo(e,o){e&1&&(n(0,"th",13),m(1," Entry Date into Office "),a())}function zo(e,o){if(e&1&&(n(0,"td",14),m(1),Ft(2,"date"),a()),e&2){let c=o.$implicit;d(),I(" ",Tt(2,1,c.entryDateIntoOffice)," ")}}function Lo(e,o){e&1&&(n(0,"th",13),m(1," Is Managerial "),a())}function $o(e,o){if(e&1&&(n(0,"td",14),m(1),a()),e&2){let c=o.$implicit;d(),I(" ",c.ismanagerial?"managerial":"regular"," ")}}function Ho(e,o){e&1&&(n(0,"th",15),m(1," Actions "),a())}function Qo(e,o){if(e&1){let c=C();n(0,"td",14)(1,"button",16),h("click",function(){let i=b(c).$implicit,r=g();return v(r.editPosition(i,r.positions[i.positionId].name))}),n(2,"mat-icon"),m(3,"edit"),a()(),n(4,"button",17),h("click",function(){let i=b(c).$implicit,r=g();return v(r.deletePosition(i))}),n(5,"mat-icon"),m(6,"delete"),a()()()}}function Wo(e,o){e&1&&_(0,"tr",18)}function Yo(e,o){e&1&&_(0,"tr",19)}var Ci=(()=>{let o=class o{constructor(t,i,r,s,f,x,P){this._employeeService=t,this._formBuilder=i,this.dialog=r,this._snackBar=s,this.route=f,this.positionService=x,this._router=P,this.displayedColumns=["positionId","entryDateIntoOffice","ismanagerial","actions"],this.peForms=[],this.positions=[],this.keep=[],this.pk=[],this.isLeanar=!1,this.dataSource=new mi([])}ngOnInit(){this.route.params.subscribe(t=>{this.employeeId=+t.id}),this.getEmployee(),this.getPositions(),this.loadEmployeePositions()}getEmployee(){this._employeeService.getEmployeeById(this.employeeId).subscribe({next:t=>{this.employee=t,console.log("data-table",this.employee)},error:t=>console.error(t)})}getPositions(){this.positionService.getPositions().subscribe({next:t=>{this.positions=t},error:t=>console.error(t)})}loadEmployeePositions(){this._employeeService.getEmployeePositions(this.employeeId).subscribe({next:t=>{t.forEach(i=>{this.pk.push(i),this.addPositionEmployeeForm(i)}),this.dataSource.data=t},error:t=>{console.error("Error fetching employee:",t)}})}addPositionEmployeeForm(t){let i=this._formBuilder.group({employeeId:[t.employeeId,y.required],positionId:[t.positionId,y.required],entryDateIntoOffice:[t.entryDateIntoOffice,y.required],ismanagerial:[t.ismanagerial]});this.peForms.push(i)}openAddPositionDialog(){this.dialog.open(Ue,{width:"250px",data:{employeeId:this.employeeId,positions:this.positions.filter(i=>!this.pk.some(r=>r.positionId===i.id)),startOfWorkDate:this.employee.startOfWorkDate}}).afterClosed().subscribe(i=>{i&&i.forEach(r=>{console.log("elemetnt to post ",r),this._employeeService.addPositionToEmployee(this.employeeId,r).subscribe({next:()=>{this.loadEmployeePositions(),this._snackBar.open("Position added successfully","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})},error:s=>{console.error(`Failed to add position: ${s.message}`),this._snackBar.open("Failed to add position","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}})})})}editPosition(t,i){this.dialog.open(xi,{width:"250px",data:{row:t,positionName:this.positions.find(s=>s.id===t.positionId)?.name,startOfWorkDate:this.employee.startOfWorkDate}}).afterClosed().subscribe(s=>{s&&this.keepTheChanges(s)})}keepTheChanges(t){this.keep.push(t),this.updatePosition(t)}deletePosition(t){sessionStorage.getItem("token")==""&&this._router.navigate(["/login"]),confirm("Are you sure you want to delete this position?")&&this._employeeService.deletePositionEmployee(t.employeeId,t.positionId).subscribe({next:()=>{this.loadEmployeePositions(),this._snackBar.open("Position deleted successfully","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})},error:r=>{console.error(`Failed to delete position: ${r.message}`),this._snackBar.open("Failed to delete position","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){let i=t.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}updatePosition(t){let i=t;this._employeeService.updatePositionEmployee(this.employeeId,t.positionId,t).subscribe({next:r=>{console.log(`Successfully updated position employee with ID ${i.positionId} for employee with ID ${i.employeeId}`)},error:r=>{console.error(`Failed to update position employee with ID ${i.positionId} for employee with ID ${i.employeeId}: ${r.message}`)}})}};o.\u0275fac=function(i){return new(i||o)(p(D),p(M),p(we),p(L),p(Ie),p(H),p(ie))},o.\u0275cmp=E({type:o,selectors:[["app-positions-employee-table"]],viewQuery:function(i,r){if(i&1&&(X(Te,5),X(Pe,5)),i&2){let s;Z(s=ee())&&(r.paginator=s.first),Z(s=ee())&&(r.sort=s.first)}},decls:19,vars:5,consts:[[1,"container"],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","positionId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","entryDateIntoOffice"],["matColumnDef","ismanagerial"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){i&1&&(n(0,"div",0)(1,"button",1),h("click",function(){return r.openAddPositionDialog()}),m(2,"Add Position for Employee"),a(),n(3,"table",2),ge(4,3),u(5,Vo,2,0,"th",4)(6,jo,2,1,"td",5),ye(),ge(7,6),u(8,Uo,2,0,"th",4)(9,zo,3,3,"td",5),ye(),ge(10,7),u(11,Lo,2,0,"th",4)(12,$o,2,1,"td",5),ye(),ge(13,8),u(14,Ho,2,0,"th",9)(15,Qo,7,0,"td",5),ye(),u(16,Wo,1,0,"tr",10)(17,Yo,1,0,"tr",11),a(),_(18,"mat-paginator",12),a()),i&2&&(d(3),l("dataSource",r.dataSource),d(13),l("matHeaderRowDef",r.displayedColumns),d(),l("matRowDefColumns",r.displayedColumns),d(),l("pageSizeOptions",Mt(4,Go)))},dependencies:[k,Ut,Kt,Zt,oi,ei,Xt,ri,ti,ii,ni,ai,Pe,Yt,Te,Vt,Nt]});let e=o;return e})();var ki=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=E({type:o,selectors:[["app-display-details-and-positions"]],decls:4,vars:0,consts:[[1,"container","container-right"],[1,"container","container-left"]],template:function(i,r){i&1&&(n(0,"div",0),_(1,"app-update-employee"),a(),n(2,"div",1),_(3,"app-positions-employee-table"),a())},dependencies:[Ei,Ci],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;align-items:center;width:50%;position:absolute;top:50%;transform:translateY(-50%)}.container-right[_ngcontent-%COMP%]{justify-content:flex-end;right:30px}.container-left[_ngcontent-%COMP%]{justify-content:flex-start;left:30px}']});let e=o;return e})();var Ko=[{path:"",component:Je},{path:"employees",component:Je},{path:"add-employee",canActivate:[Ee],component:bi},{path:"update/:id",canActivate:[Ee],component:ki},{path:"**",redirectTo:"employees",pathMatch:"full"}],nt=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=he({type:o}),o.\u0275inj=_e({imports:[oe.forChild(Ko),Se,oe]});let e=o;return e})();var Xo=["input"],Zo=["formField"],er=["*"],tr=0,at=class{constructor(o,c){this.source=o,this.value=c}};var ir=new ze("MatRadioGroup"),or=new ze("mat-radio-default-options",{providedIn:"root",factory:rr});function rr(){return{color:"accent"}}var Si=(()=>{let o=class o{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,f,x,P,J){this._elementRef=i,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=f,this._providerOverride=P,this._uniqueId=`mat-radio-${++tr}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new xt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations=x==="NoopAnimations",J&&(this.tabIndex=He(J,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new at(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){let t=this.radioGroup,i;if(!t||!t.selected||this.disabled?i=this.tabIndex:i=t.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}};o.\u0275fac=function(i){return new(i||o)(p(ir,8),p(Ce),p(Pt),p(At),p(zt),p(Ct,8),p(or,8),Et("tabindex"))},o.\u0275cmp=E({type:o,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&(X(Xo,5),X(Zo,7,Ce)),i&2){let s;Z(s=ee())&&(r._inputElement=s.first),Z(s=ee())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){i&1&&h("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(Le("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),$e("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[F.None,"aria-label","ariaLabel"],ariaLabelledby:[F.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[F.None,"aria-describedby","ariaDescribedby"],disableRipple:[F.HasDecoratorInputTransform,"disableRipple","disableRipple",be],tabIndex:[F.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:He(t)],checked:[F.HasDecoratorInputTransform,"checked","checked",be],value:"value",labelPosition:"labelPosition",disabled:[F.HasDecoratorInputTransform,"disabled","disabled",be],required:[F.HasDecoratorInputTransform,"required","required",be],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[kt,Dt],ngContentSelectors:er,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=C();St(),n(0,"div",2,0)(2,"div",3)(3,"div",4),h("click",function(x){return b(s),v(r._onTouchTargetClick(x))}),a(),n(4,"input",5,1),h("change",function(x){return b(s),v(r._onInputInteraction(x))}),a(),n(6,"div",6),_(7,"div",7)(8,"div",8),a(),n(9,"div",9),_(10,"div",10),a()(),n(11,"label",11),It(12),a()()}i&2&&(l("labelPosition",r.labelPosition),d(2),$e("mdc-radio--disabled",r.disabled),d(2),l("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Le("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),d(5),l("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),d(2),l("for",r.inputId))},dependencies:[Rt,Gt],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let e=o;return e})();var fa=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=he({type:o}),o.\u0275inj=_e({providers:[Qt,Ee,Ue,D,K,K,Bt(),H],imports:[Ye,Me,Fe,Ke,De,ve,Xe,si,N,qt,$,ve,Se,nt,oe,Ot,$t,Ht,pi,ci,Me,Fe,We,Jt,Wt,De,Xe,Ye,Si,ui,jt,Me,Fe,De,Ke,Qe,We,ve,Qe,nt,oe,ve,di]});let e=o;return e})();export{fa as EmployeeModule};
